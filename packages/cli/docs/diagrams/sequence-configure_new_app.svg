<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1184px" preserveAspectRatio="none" style="width:1849px;height:1184px;background:#FFFFFF;" version="1.1" viewBox="0 0 1849 1184" width="1849px" zoomAndPan="magnify"><defs><filter height="300%" id="f1neaya2fcin9q" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="400" x="722" y="29.4023">sequence diagram - cenv app implementation</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="66" x2="66" y1="123.6875" y2="1099.9727"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="240" x2="240" y1="123.6875" y2="1099.9727"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="338" x2="338" y1="123.6875" y2="1099.9727"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="567" x2="567" y1="123.6875" y2="1099.9727"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="756" x2="756" y1="123.6875" y2="1099.9727"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="933" x2="933" y1="123.6875" y2="1099.9727"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1130" x2="1130" y1="123.6875" y2="1099.9727"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1309" x2="1309" y1="123.6875" y2="1099.9727"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1512" x2="1512" y1="123.6875" y2="1099.9727"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1746" x2="1746" y1="123.6875" y2="1099.9727"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="5" y="120.7344">ServiceDeveloper</text><ellipse cx="66.5" cy="50.1992" fill="#FEFECE" filter="url(#f1neaya2fcin9q)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M66.5,58.1992 L66.5,85.1992 M53.5,66.1992 L79.5,66.1992 M66.5,85.1992 L53.5,100.1992 M66.5,85.1992 L79.5,100.1992 " fill="none" filter="url(#f1neaya2fcin9q)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="5" y="1112.5078">ServiceDeveloper</text><ellipse cx="66.5" cy="1125.4609" fill="#FEFECE" filter="url(#f1neaya2fcin9q)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M66.5,1133.4609 L66.5,1160.4609 M53.5,1141.4609 L79.5,1141.4609 M66.5,1160.4609 L53.5,1175.4609 M66.5,1160.4609 L79.5,1175.4609 " fill="none" filter="url(#f1neaya2fcin9q)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f1neaya2fcin9q)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="81" x="198" y="88.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="205" y="108.7344">localDrive</text><rect fill="#FEFECE" filter="url(#f1neaya2fcin9q)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="81" x="198" y="1098.9727"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="205" y="1119.5078">localDrive</text><rect fill="#FEFECE" filter="url(#f1neaya2fcin9q)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="45" x="314" y="88.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="321" y="108.7344">cenv</text><rect fill="#FEFECE" filter="url(#f1neaya2fcin9q)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="45" x="314" y="1098.9727"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="321" y="1119.5078">cenv</text><rect fill="#FEFECE" filter="url(#f1neaya2fcin9q)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="177" x="477" y="88.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="163" x="484" y="108.7344">Lambda_Materialization</text><rect fill="#FEFECE" filter="url(#f1neaya2fcin9q)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="177" x="477" y="1098.9727"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="163" x="484" y="1119.5078">Lambda_Materialization</text><rect fill="#FEFECE" filter="url(#f1neaya2fcin9q)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="172" x="668" y="88.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158" x="675" y="108.7344">SNS_Invalidation_Topic</text><rect fill="#FEFECE" filter="url(#f1neaya2fcin9q)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="172" x="668" y="1098.9727"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158" x="675" y="1119.5078">SNS_Invalidation_Topic</text><rect fill="#FEFECE" filter="url(#f1neaya2fcin9q)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="155" x="854" y="88.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="861" y="108.7344">Lambda_Invalidation</text><rect fill="#FEFECE" filter="url(#f1neaya2fcin9q)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="155" x="854" y="1098.9727"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="861" y="1119.5078">Lambda_Invalidation</text><rect fill="#FEFECE" filter="url(#f1neaya2fcin9q)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="210" x="1023" y="88.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="196" x="1030" y="108.7344">AppConfig_App_BackendApi</text><rect fill="#FEFECE" filter="url(#f1neaya2fcin9q)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="210" x="1023" y="1098.9727"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="196" x="1030" y="1119.5078">AppConfig_App_BackendApi</text><rect fill="#FEFECE" filter="url(#f1neaya2fcin9q)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="120" x="1247" y="88.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="1254" y="108.7344">ParameterStore</text><rect fill="#FEFECE" filter="url(#f1neaya2fcin9q)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="120" x="1247" y="1098.9727"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="1254" y="1119.5078">ParameterStore</text><rect fill="#FEFECE" filter="url(#f1neaya2fcin9q)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="258" x="1381" y="88.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="244" x="1388" y="108.7344">Lambda_Dependent_Service_Config</text><rect fill="#FEFECE" filter="url(#f1neaya2fcin9q)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="258" x="1381" y="1098.9727"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="244" x="1388" y="1119.5078">Lambda_Dependent_Service_Config</text><rect fill="#FEFECE" filter="url(#f1neaya2fcin9q)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="182" x="1653" y="88.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168" x="1660" y="108.7344">ECS_BackendApi_Service</text><rect fill="#FEFECE" filter="url(#f1neaya2fcin9q)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="182" x="1653" y="1098.9727"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168" x="1660" y="1119.5078">ECS_BackendApi_Service</text><polygon fill="#A80036" points="228.5,166.3086,238.5,170.3086,228.5,174.3086,232.5,170.3086" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="66.5" x2="234.5" y1="170.3086" y2="170.3086"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="73.5" y="157.9111">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="86.5" y="150.2559">developer downloads</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="86.5" y="165.5664">source via github</text><polygon fill="#A80036" points="326.5,226.2402,336.5,230.2402,326.5,234.2402,330.5,230.2402" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="66.5" x2="332.5" y1="230.2402" y2="230.2402"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="73.5" y="210.1875">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="86.5" y="194.877">'cenv init' in the root directory</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="86.5" y="210.1875">of a the "@stoked-cenv\backend-api", the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215" x="86.5" y="225.498">service being integrated with cenv</text><polygon fill="#A80036" points="555.5,316.793,565.5,320.793,555.5,324.793,559.5,320.793" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="338.5" x2="561.5" y1="320.793" y2="320.793"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="345.5" y="285.4297">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="358.5" y="254.8086">Create Lambda to</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="358.5" y="270.1191">materialize cenv</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="358.5" y="285.4297">Configuration Profiles</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="358.5" y="300.7402">(if not pre-existing in</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="358.5" y="316.0508">environment)</text><polygon fill="#A80036" points="744,437.9668,754,441.9668,744,445.9668,748,441.9668" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="338.5" x2="750" y1="441.9668" y2="441.9668"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="345.5" y="391.293">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="358.5" y="345.3613">Create SNS topic to</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="358.5" y="360.6719">deliver deploy complete</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="358.5" y="375.9824">notifications to any lambda's</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="358.5" y="391.293">depending on the application's</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="358.5" y="406.6035">configuration profile</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="358.5" y="421.9141">(if not pre-existing in</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="358.5" y="437.2246">environment)</text><polygon fill="#A80036" points="921.5,528.5195,931.5,532.5195,921.5,536.5195,925.5,532.5195" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="338.5" x2="927.5" y1="532.5195" y2="532.5195"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="345.5" y="497.1563">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="358.5" y="466.5352">Create Lambda to</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="358.5" y="481.8457">invalidate Lambda</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="358.5" y="497.1563">functions that depend</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177" x="358.5" y="512.4668">on the service configuration</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="382" x="358.5" y="527.7773">variables for this service (if not pre-existing in environment)</text><polygon fill="#A80036" points="1118,557.8301,1128,561.8301,1118,565.8301,1122,561.8301" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="338.5" x2="1124" y1="561.8301" y2="561.8301"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="345.5" y="557.0879">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="313" x="358.5" y="557.0879">Create AppConfig Application "@stoked-cenv\backend-api"</text><polygon fill="#A80036" points="1118,602.4512,1128,606.4512,1118,610.4512,1122,606.4512" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="338.5" x2="1124" y1="606.4512" y2="606.4512"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="345.5" y="594.0537">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="410" x="358.5" y="586.3984">Create AppConfig Environment "local" for the "@stoked-cenv\backend-api"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="358.5" y="601.709">Application</text><polygon fill="#A80036" points="1118,647.0723,1128,651.0723,1118,655.0723,1122,651.0723" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="338.5" x2="1124" y1="651.0723" y2="651.0723"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="345.5" y="638.6748">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="509" x="358.5" y="631.0195">Create AppConfig cenv Configuration Profile  "config" for the "@stoked-cenv\backend-api"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="358.5" y="646.3301">Application</text><polygon fill="#A80036" points="326.5,676.3828,336.5,680.3828,326.5,684.3828,330.5,680.3828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="66.5" x2="332.5" y1="680.3828" y2="680.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="73.5" y="675.6406">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230" x="86.5" y="675.6406">'cenv add -e baseUrl localhost:9196'</text><polygon fill="#A80036" points="1297,721.0039,1307,725.0039,1297,729.0039,1301,725.0039" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="338.5" x2="1303" y1="725.0039" y2="725.0039"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="345.5" y="712.6064">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="436" x="367.5" y="704.9512">Create parameter "/service/ec/backend-api/environment/local/port"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="371.5" y="720.2617">with value "localhost:9196"</text><polygon fill="#A80036" points="326.5,750.3145,336.5,754.3145,326.5,758.3145,330.5,754.3145" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="66.5" x2="332.5" y1="754.3145" y2="754.3145"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="73.5" y="749.5723">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="226" x="95.5" y="749.5723">'cenv add -g googleGeocodeApiKey'</text><polygon fill="#A80036" points="1297,810.2461,1307,814.2461,1297,818.2461,1301,814.2461" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="338.5" x2="1303" y1="814.2461" y2="814.2461"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="345.5" y="794.1934">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="288" x="367.5" y="778.8828">Adds a reference to an already existing global</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="508" x="367.5" y="794.1934">parameter (if it exists) located here: "/global/google/geocode/apiKey" by adding</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="574" x="371.5" y="809.5039">the path to the global link parameter for this service here: "/services/backend-api/global""</text><polygon fill="#A80036" points="326.5,839.5566,336.5,843.5566,326.5,847.5566,330.5,843.5566" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="66.5" x2="332.5" y1="843.5566" y2="843.5566"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="73.5" y="838.8145">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="95.5" y="838.8145">'cenv deploy'</text><polygon fill="#A80036" points="555.5,930.1094,565.5,934.1094,555.5,938.1094,559.5,934.1094" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="338.5" x2="561.5" y1="934.1094" y2="934.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="345.5" y="898.7461">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="367.5" y="868.125">Executes the materialization</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="367.5" y="883.4355">lambda given the AppConfig</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="367.5" y="898.7461">identifiers for</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="367.5" y="914.0566">"@stoked-cenv\backend-api" created</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="375.5" y="929.3672">during the "cenv init"</text><polygon fill="#A80036" points="1118,974.7305,1128,978.7305,1118,982.7305,1122,978.7305" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="567.5" x2="1124" y1="978.7305" y2="978.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="574.5" y="966.333">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="295" x="596.5" y="958.6777">Generate a materialized yaml file containing all</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="261" x="596.5" y="973.9883">the environment variables for this service</text><polygon fill="#A80036" points="921.5,1004.041,931.5,1008.041,921.5,1012.041,925.5,1008.041" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="567.5" x2="927.5" y1="1008.041" y2="1008.041"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="574.5" y="1003.2988">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="264" x="596.5" y="1003.2988">Invokes the Lambda_Invalidation function</text><polygon fill="#A80036" points="1500,1048.6621,1510,1052.6621,1500,1056.6621,1504,1052.6621" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="933.5" x2="1506" y1="1052.6621" y2="1052.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="940.5" y="1040.2646">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="392" x="962.5" y="1032.6094">Invalidates the lambda's that match the specific service tag by</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="419" x="962.5" y="1047.9199">updating a dummy environment variable with the latest timestamp</text><polygon fill="#A80036" points="1141,1077.9727,1131,1081.9727,1141,1085.9727,1137,1081.9727" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1135" x2="1745" y1="1081.9727" y2="1081.9727"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1147" y="1077.2305">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="453" x="1169" y="1077.2305">Backend api polls for a new configuration update and receives the latest</text><!--MD5=[99fea5b4a6129233c6a30d3defbb72a2]
@startuml
'https://plantuml.com/sequence-diagram

autonumber

' need mechanism to figure out which services need to be updated if a given global parameter is updated
title sequence diagram - cenv app implementation
actor ServiceDeveloper

ServiceDeveloper -> localDrive: developer downloads \nsource via github
ServiceDeveloper -> cenv: 'cenv init' in the root directory \nof a the "@stoked-cenv\backend-api", the \nservice being integrated with cenv
cenv -> Lambda_Materialization: Create Lambda to \nmaterialize cenv \nConfiguration Profiles \n(if not pre-existing in \nenvironment)
cenv -> SNS_Invalidation_Topic: Create SNS topic to \ndeliver deploy complete \nnotifications to any lambda's \ndepending on the application's \nconfiguration profile \n(if not pre-existing in \nenvironment)
cenv -> Lambda_Invalidation: Create Lambda to \ninvalidate Lambda \nfunctions that depend \non the service configuration \nvariables for this service (if not pre-existing in environment)
cenv -> AppConfig_App_BackendApi: Create AppConfig Application "@stoked-cenv\backend-api"
cenv -> AppConfig_App_BackendApi: Create AppConfig Environment "local" for the "@stoked-cenv\backend-api" \nApplication
cenv -> AppConfig_App_BackendApi: Create AppConfig cenv Configuration Profile  "config" for the "@stoked-cenv\backend-api" \nApplication

ServiceDeveloper -> cenv: 'cenv add -e baseUrl localhost:9196'
cenv -> ParameterStore: Create parameter "/service/ec/backend-api/environment/local/port"\n with value "localhost:9196"

ServiceDeveloper -> cenv: 'cenv add -g googleGeocodeApiKey'
cenv -> ParameterStore: Adds a reference to an already existing global \nparameter (if it exists) located here: "/global/google/geocode/apiKey" by adding\n the path to the global link parameter for this service here: "/services/backend-api/global""

ServiceDeveloper -> cenv: 'cenv deploy'
cenv -> Lambda_Materialization: Executes the materialization \nlambda given the AppConfig \nidentifiers for \n"@stoked-cenv\backend-api" created \n  during the "cenv init"
Lambda_Materialization -> AppConfig_App_BackendApi: Generate a materialized yaml file containing all \nthe environment variables for this service
Lambda_Materialization -> Lambda_Invalidation: Invokes the Lambda_Invalidation function
Lambda_Invalidation -> Lambda_Dependent_Service_Config: Invalidates the lambda's that match the specific service tag by \nupdating a dummy environment variable with the latest timestamp
ECS_BackendApi_Service -> AppConfig_App_BackendApi: Backend api polls for a new configuration update and receives the latest

@enduml

@startuml

autonumber

title sequence diagram - cenv app implementation
actor ServiceDeveloper

ServiceDeveloper -> localDrive: developer downloads \nsource via github
ServiceDeveloper -> cenv: 'cenv init' in the root directory \nof a the "@stoked-cenv\backend-api", the \nservice being integrated with cenv
cenv -> Lambda_Materialization: Create Lambda to \nmaterialize cenv \nConfiguration Profiles \n(if not pre-existing in \nenvironment)
cenv -> SNS_Invalidation_Topic: Create SNS topic to \ndeliver deploy complete \nnotifications to any lambda's \ndepending on the application's \nconfiguration profile \n(if not pre-existing in \nenvironment)
cenv -> Lambda_Invalidation: Create Lambda to \ninvalidate Lambda \nfunctions that depend \non the service configuration \nvariables for this service (if not pre-existing in environment)
cenv -> AppConfig_App_BackendApi: Create AppConfig Application "@stoked-cenv\backend-api"
cenv -> AppConfig_App_BackendApi: Create AppConfig Environment "local" for the "@stoked-cenv\backend-api" \nApplication
cenv -> AppConfig_App_BackendApi: Create AppConfig cenv Configuration Profile  "config" for the "@stoked-cenv\backend-api" \nApplication

ServiceDeveloper -> cenv: 'cenv add -e baseUrl localhost:9196'
cenv -> ParameterStore: Create parameter "/service/ec/backend-api/environment/local/port"\n with value "localhost:9196"

ServiceDeveloper -> cenv: 'cenv add -g googleGeocodeApiKey'
cenv -> ParameterStore: Adds a reference to an already existing global \nparameter (if it exists) located here: "/global/google/geocode/apiKey" by adding\n the path to the global link parameter for this service here: "/services/backend-api/global""

ServiceDeveloper -> cenv: 'cenv deploy'
cenv -> Lambda_Materialization: Executes the materialization \nlambda given the AppConfig \nidentifiers for \n"@stoked-cenv\backend-api" created \n  during the "cenv init"
Lambda_Materialization -> AppConfig_App_BackendApi: Generate a materialized yaml file containing all \nthe environment variables for this service
Lambda_Materialization -> Lambda_Invalidation: Invokes the Lambda_Invalidation function
Lambda_Invalidation -> Lambda_Dependent_Service_Config: Invalidates the lambda's that match the specific service tag by \nupdating a dummy environment variable with the latest timestamp
ECS_BackendApi_Service -> AppConfig_App_BackendApi: Backend api polls for a new configuration update and receives the latest

@enduml

PlantUML version 1.2022.1(Tue Feb 01 12:19:58 CST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>